<!doctype html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="assets/style.css" />
    <script src="lib/jquery.js"></script>
    <script src="assets/Algorithm.js"></script>
    <script src="assets/Translator.js"></script>
    <script>
      $(function(){
        $("#go").click(run);
      });
      function run() 
      {
        box = $("#alg_box")
        results = $("#results");
        var inputs = box.val().split("\n")
        results.html("");
        $.each(inputs, function(index, input) {
          var algs = Translator.translate(Translator.formatInput(input, getOptions()), getOptions());
          algs = algs.map(function(input) {
            return "<a class=\"alglink\">"+input+"</a>";
          });
          results.append(algs.join("<BR>") + "<BR><BR>")
        });
        $(".alglink").click(function(event) {
          $("#notes").val($("#notes").val()+event.target.innerHTML+"\n");
        });
      }

      function getOptions()
      {
        options = {}
        options["remove_trailing_u"] = $("#remove_trailing_u")[0].checked
        options["one_d"] = $("#one_d")[0].checked
        options["show_y_rotations"] = $("#show_y_rotations")[0].checked
        return options;
      }
    </script>
  </head>
  <body>
    <div id="sidebar">
      <div id="input" >
        <textarea
          cols="5"
          type="text" 
          id="alg_box"
          ></textarea>
      </div>
      <div id="go">
        <input type="button" value="Go" id="go"/>
      </div>
      <div id="options">
        <input checked="true" type="checkbox" id="remove_trailing_u" />Remove trailing U moves<br />
        <input checked="true" type="checkbox" id="one_d" />Limit to one D move<br />
        <input checked="true" type="checkbox" id="show_y_rotations" />Show y rotations first<br />
      </div>
    </div>
    <div id="note_box">
      <p>Notes</p>
      <textarea id="notes" cols="5" type="text"></textarea>
    </div>
    <div id="results"></div>
  </body>
</html>
